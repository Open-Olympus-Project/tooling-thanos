store:
  enabled: false

query:
  enabled: false
  
compact:
  enabled: false

bucket:
  enabled: false

sidecar:
  # NOTE: This is only the service references for the sidecar
  enabled: true
  selector:
    app: prometheus
  # Enable metrics collecting for sidecar service
  metrics:
    # Enable ServiceMonitor https://github.com/coreos/prometheus-operator
    serviceMonitor:
      enabled: false
      # Labels for prometheus-operator to find servicemonitor
      labels: {}
  # The grpc endpoint to communicate with other components
  grpc:
    # grpc listen port number
    port: 10901
    # Service definition for sidecar grpc service
    service:
      type: ClusterIP
      # The node port number to use when the service type is set as 'NodePort'
      nodePort: 31901
      # External IPs assigned to sidecar grpc service
      externalIPs: []
      # Annotations to sidecar grpc service
      annotations: {}
      # Labels to sidecar grpc service
      labels: {}
    # Set up ingress for the grpc service
    ingress:
      enabled: true
      # Set default backend for ingress
      defaultBackend: false
      annotations: 
        kubernetes.io/ingress.class: nginx
        kubernetes.io/tls-acme: 'true'
        cert-manager.io/cluster-issuer: letsencrypt-prod
      labels: {}
      path: "/prometheus-side"
      hosts:
        - "{{ fqdn }}"
      tls:
        - secretName: thanos-sidecar-tls
          hosts:
            - {{ fqdn }}
